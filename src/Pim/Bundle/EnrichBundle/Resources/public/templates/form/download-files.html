<% _.each(array, function (item, masterKey) { %>
    <% if (_.size(item.files) === 1) { %>

        <% _.each(item.files, function (file, key) { %>
        <a class="AknButton AknButton--grey AknButton--withIcon AknButtonList-item" title="<%- __(item.label) %>"
           href="<%- generateRoute({id: executionId, archiver: masterKey, key: key }) %>">
            <i class="AknButton-icon icon-download-alt"></i> <%- __(item.label) %>
        </a>
        <% }); %>

    <% } else { %>

        <div class="AknDropdownButton AknDropdownButton--grey AknDropdown AknButtonList-item">
            <a class="AknDropdownButton-button" data-toggle="dropdown" href="#">
                <%- __(item.label) %>
                <span class="AknDropdownButton-caretContainer">
                    <span class="AknCaret AknCaret--big AknCaret--inverse caret"></span>
                </span>
            </a>
            <ul class="AknDropdown-menu dropdown-menu">
                <% _.each(item.files, function (file, key) { %>
                <li>
                    <a class="AknDropdown-menuLink"
                       href="<%- generateRoute({id: executionId, archiver: masterKey, key: key }) %>">
                        <%- key %>
                    </a>
                </li>
                <% }); %>
            </ul>
        </div>

    <% } %>
<% }); %>
