{% extends bap.layout %}

{% macro renderWidget(widget) %}
    <div class="quick-launchpad-widget span6">
        <div class="clearfix">
            {{ render(controller('pim_dashboard.controller.widget:showAction', { 'alias': widget })) }}
        </div>
    </div>
{% endmacro %}
{% import _self as __ %}

{% block content %}
    <div class="scrollable-container quick-launchpad dashboard">
        <div class="container">
            <h3>{{ 'pim_dashboard.quick_launchpad'|trans }}</h3>

            {% set widgetsArray = ['completeness', 'links', 'last_operations'] %}

            {% for widget in widgetsArray %}
                {% if loop.index is odd %}<div class="row">{% endif %}
                {{ __.renderWidget(widget) }}
                {% if loop.index is even %}</div>{% endif %}
            {% endfor %}

        </div>

        <div class="version-container">
            <strong>Version:</strong> {{ version() }}
        </div>
    </div>
{% endblock %}
