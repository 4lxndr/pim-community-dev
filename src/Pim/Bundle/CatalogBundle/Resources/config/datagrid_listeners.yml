parameters:
    pim_catalog.event_listener.product_relation_grid_subscriber.class: Pim\Bundle\CatalogyBundle\EventListener\ProductRelationGridListener

services:
    pim_catalog.event_listener.add_locale_code_to_grid:
        class: %pim_datagrid.event_listener.add_locale_code_to_grid.class%
        arguments:
          - @oro_datagrid.datagrid.request_params
        tags:
          - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after, method: onBuildAfter }

    pim_catalog.event_listener.product_grid_before_listener:
        class: %pim_datagrid.event_listener.configure_flexible_grid_listener.class%
        arguments:
            - @pim_flexibleentity.registry
            - @pim_datagrid.datagrid.flexible.configuration_registry
            - @oro_datagrid.datagrid.request_params
        tags:
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.before.product-grid, method: buildBefore}

    pim_catalog.event_listener.product_grid_after_listener:
        class: %pim_datagrid.event_listener.add_parameters_to_product_grid.class%
        arguments:
          - [dataLocale]
          - @oro_datagrid.datagrid.request_params
          - @pim_catalog.manager.product
          - @pim_catalog.manager.locale
          - @pim_catalog.manager.channel
        tags:
          - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.product-grid, method: onBuildAfter }

    pim_catalog.event_listener.product_group_grid_before_listener:
        class: %pim_datagrid.event_listener.configure_product_group_grid_listener.class%
        arguments:
            - @pim_flexibleentity.registry
            - @pim_datagrid.datagrid.flexible.configuration_registry
            - @oro_datagrid.datagrid.request_params
        calls:
            - [setRequest, ['@?request=']]
        tags:
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.before.product-group-grid, method: buildBefore}

    pim_catalog.event_listener.product_group_grid_after_listener:
        class: %pim_datagrid.event_listener.add_parameters_to_grid.class%
        arguments:
          - [dataLocale, currentGroup]
          - @oro_datagrid.datagrid.request_params
          - true
        tags:
          - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.product-group-grid, method: onBuildAfter }

    pim_catalog.event_listener.group_grid_listener:
        class: %pim_datagrid.event_listener.add_parameters_to_grid.class%
        arguments:
          - [localeCode, groupTypes]
          - @oro_datagrid.datagrid.request_params
        tags:
          - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.group-grid, method: onBuildAfter }

    pim_catalog.event_listener.variant_group_grid_listener:
        class: %pim_datagrid.event_listener.add_parameters_to_grid.class%
        arguments:
          - [localeCode, groupTypes]
          - @oro_datagrid.datagrid.request_params
        tags:
          - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.variant-group-grid, method: onBuildAfter }

    pim_catalog.event_listener.association_targets_grid_listener:
        class: %pim_datagrid.event_listener.add_parameters_to_grid.class%
        arguments:
          - [product]
          - @oro_datagrid.datagrid.request_params
        tags:
          - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.association-targets-grid, method: onBuildAfter }

    # pim_catalog.event_listener.association_target_grid_listener:
    #     class: %pim_datagrid.event_listener.add_parameters_to_product_grid.class%
    #     arguments:
    #       - [product]
    #       - @oro_datagrid.datagrid.request_params
    #       - @pim_catalog.manager.product
    #       - @pim_catalog.manager.locale
    #       - @pim_catalog.manager.channel
    #     tags:
    #       - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.association-targets-grid, method: onBuildAfter }

    # pim_catalog.event_listener.association_targets_grid_listener:
    #     class: %oro_datagrid.event_listener.base_orm_relation.class%
    #     arguments:
    #       - associationType
    #       - @oro_datagrid.datagrid.request_params
    #     tags:
    #       - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.association-targets-grid, method: onBuildAfter }
